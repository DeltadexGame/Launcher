<html>
  <head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
    rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="file:///styles.css">   
  </head>
  <body>
  
  <div class="default">
      <div class="sidebar">
          <div class="sidebar_inner">
            <ul class="icons">
                <li class="link" onclick="UpdateView('home')">
                  <a href="app.html">
                    <div class="btn-primary tooltip">
                      <i class="material-icons md-18">home</i>
                      <div class="right">
                          <h3>Home</h3>
                          <i></i>
                      </div>
                    </div>
                  </a>
                </li>

                <li class="link" onclick="UpdateView('login')">
                  <a href="login.html">
                    <div class="btn-primary tooltip">
                      <i class="material-icons md-18 active">group</i>
                      <div class="right">
                          <h3>Login</h3>
                          <i></i>
                      </div>
                  </div>
                  </a>
                </li>

                <li class="link" onclick="UpdateView('news')">
                  <a href="news.html">
                    <div class="btn-primary tooltip">
                      <i class="material-icons md-18">info</i>
                      <div class="right">
                          <h3>News</h3>
                          <i></i>
                      </div>
                  </div>
                  </a>
                </li>

                <li class="link" onclick="UpdateView('latest-cards')">
                  <a href="latest-cards.html">
                    <div class="btn-primary tooltip">
                      <i class="material-icons md-18">pages</i>
                      <div class="right">
                          <h3>Cards</h3>
                          <i></i>
                      </div>
                  </div>
                  </a>
                </li>

                <li class="end link">
                  <a href="settings.html">
                    <div class="btn-primary tooltip">
                      <i class="material-icons md-18">settings</i>
                      <div class="right">
                          <h3 onclick="UpdateView('settings')">Settings</h3>
                          <i></i>
                      </div>
                  </div>
                  </a>

                </li>
              </ul>
          </div>
      </div>

      <nav class="topnav">
        <span id="logo" onclick="UpdateView('home');">Deltadex</span>
        <ul>
          <li onclick="UpdateView('latest-cards');">Latest Cards</li>
          <li onclick="UpdateView('news');">News</li>
        </ul>
      
      </nav>
      
      <div class="main">
        <div class="main_content">
          <section class="content">

            <article class="login">
              <h1>Login</h1>

              <h4 class="alert">Don't have an account? <a href="signup.html">Sign up.</a></h4>
              
              <h5>Username</h5>
              <input type="text" id="username" />
              
              <h5>Password</h5>
              <input type="password" id="password"/>
              
              <button onclick="login_c()">Login</button>
          </article>
          </section>
      </div>      
      </div>
    </div>

    <script>
      function login() {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
          document.getElementById("result").innerHTML = this.status;
        
          if (this.readyState == 4 && this.status == 200 || this.status == 201) {
            document.getElementById("result").innerHTML = this.responseText;
          }
        };
        xhttp.open("POST", "IP/auth/login");
        xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

        var username = document.getElementById("username").value;
        var password = document.getElementById("password").value;

        let data = `username=${username}&password=${password}`
        xhttp.send(data);
      }

      
      function validateFormData() {
        var username = document.getElementById("username").value;
        var password = document.getElementById("password").value;

        if (username == "" || password == "") {
          if (username == "") {
            document.getElementById("err_msg").innerText = "You must provide a valid username!";
          }
          // no password provided
          else {
            document.getElementById("err_msg").innerText = "You must provide a valid password!"
          }

          return 0;
        }
        else if (password != confirm_password) {
          document.getElementById("err_msg").innerText = "Passwords don't match!"
          return 0;
        }
        else {
          return 1;
        }
      }

      function bindCallbacks() {
        let login = document.getElementById("login");
        login.addEventListener("click", event => OnLoadLogin());

        let links = document.getElementsByClassName("link");
        
        for (var i = 0; i < links.length; i++) {
          let link = links[i];
          link.addEventListener('click', event => OnUpdateView());
          link.addEventListener("mouseover", event => OnUpdateCursor());
        }
      }
      
      function login_c() {
        var username = document.getElementById("username").value;
        var password = document.getElementById("password").value;
        Login(username, password);
      }
	  
	    bindCallbacks();
    </script>

  </body>
</html>